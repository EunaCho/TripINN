<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mypage">

	<select id="selectSendMsgList" parameterType="hashmap" resultType="hashmap">
		select MSG_IDX, MSG_STATE, RECEIVE_MEMBER_EMAIL, MSG_TITLE, MSG_CONTENT, SEND_DATE, MSG_TYPE, HOUSE_IDX, TRIP_IDX from message where member_idx = #{member_idx}
		order by msg_idx desc
	</select>
	
	<select id="selectReceiveMsgList" parameterType="hashmap" resultType="hashmap">
		select MSG_IDX, MSG_STATE, m2.member_email, MSG_TITLE, MSG_CONTENT, SEND_DATE, MSG_TYPE, 
		HOUSE_IDX, TRIP_IDX from message m inner join member m2 on m.member_idx=m2.member_idx where receive_member_email =#{member_email}
		order by msg_idx desc
	</select>
	
	<select id="selectMsgDetail" parameterType="hashmap" resultType="hashmap">
		select MSG_STATE, m2.member_email, MSG_TITLE, MSG_CONTENT, SEND_DATE, MSG_TYPE, HOUSE_IDX, TRIP_IDX
		from message m inner join member m2 on m.member_idx=m2.member_idx where msg_idx=#{msg_idx}
	</select>

</mapper>